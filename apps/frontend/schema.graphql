type Audit {
  detail: JSON
  id: ID!
  op: String!
  operatorId: ID!
  recordId: ID!
  tableId: ID!
  timestamp: String!
}

type Field {
  constraint: JSON
  defaultValue: JSON
  display: Boolean
  id: ID!
  name: String!
  type: FieldType!
}

enum FieldType {
  autoIncrement
  createdAt
  id
  number
  string
  updatedAt
}

type Form {
  description: String
  fields: JSON
  id: ID!
  name: String!
}

scalar JSON

type Query {
  recordAudits(recordId: ID!): [Audit]
  table(id: ID!): Table
  tables: [Table!]
}

type RLS {
  action: RLSAction!
  allow: Boolean!
  condition: JSON
  enabled: Boolean!
  id: ID!
  name: String!
  subject: JSON
  updateCondition: JSON
}

enum RLSAction {
  create
  delete
  read
  update
}

type Table {
  forms: [Form]
  id: ID!
  name: String!
  recordsCount: Int!
  rls: [RLS]
  schema: [Field!]!
  viewData(viewId: ID): ViewData
  views: [View!]!
}

type View {
  aggregate: JSON
  color: JSON
  filter: JSON
  id: ID!
  name: String!
  sort: JSON
  type: ViewType!
}

type ViewData {
  aggregate: JSON
}

enum ViewType {
  grid
}
